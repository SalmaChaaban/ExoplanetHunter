{% extends 'classifier/base.html' %}

{% block content %}
<h2>Train New Model</h2>

<div class="card">
    <h3>Upload Dataset & Configure Hyperparameters</h3>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label>Dataset File (CSV)</label>
            <input type="file" name="dataset" required accept=".csv">
            <small>Upload your KOI dataset CSV file</small>
        </div>
        
        <h4 style="margin-top: 30px;">Hyperparameters</h4>
        
        <div class="form-group">
            <label>Random Forest Estimators</label>
            <input type="number" name="rf_estimators" value="200" min="10" max="1000">
            <small>Number of trees in Random Forest (default: 200)</small>
        </div>
        
        <div class="form-group">
            <label>Gradient Boosting Estimators</label>
            <input type="number" name="gb_estimators" value="200" min="10" max="1000">
            <small>Number of boosting stages (default: 200)</small>
        </div>
        
        <div class="form-group">
            <label>Gradient Boosting Learning Rate</label>
            <input type="number" name="gb_learning_rate" value="0.1" min="0.001" max="1" step="0.001">
            <small>Learning rate (default: 0.1)</small>
        </div>
        
        <div class="form-group">
            <label>Test Set Size</label>
            <input type="number" name="test_size" value="0.3" min="0.1" max="0.5" step="0.05">
            <small>Proportion of data for testing (default: 0.3)</small>
        </div>
        
        <button type="submit" class="btn">Train Model</button>
    </form>
</div>

<div class="card" style="margin-top: 20px;">
    <h3>ℹ️ Training Tips</h3>
    <ul>
        <li>Higher estimators = better accuracy but longer training time</li>
        <li>Lower learning rate = more stable but slower convergence</li>
        <li>Test size of 0.3 (30%) is recommended for balanced evaluation</li>
        <li>Training may take 1-5 minutes depending on dataset size</li>
    </ul>
</div>
{% endblock %}